<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>McbeEringi PetitAudio</title>
</head>
<body>
	<style>
		:root{background-color:#222;color:#fff;font-family:monospace;}
		.key{display:inline-block;margin:0;margin:1px;background-color:#8888;width:16px;height:80px;text-align:center;font-size:9px;user-select:none;-webkit-user-select:none;touch-action:none;}
	</style>
	<script src="petitaudio.js"></script>
	<h1>PetitAudio</h1>
	<img src="img/icon.svg" alt="icon">
	<pre id="log"></pre>
	<div id="wrap"></div>
	<button id="btn">btn</button>
	<script>
		const main=new PetitAudio()
			.player('test',{
				baseUrl:'https://mcbeeringi.github.io/sky/audio/instr/musicbox/',
				notes:{
					a3:'a3.mp3',
					ds4:'ds4.mp3',
					a4:'a4.mp3',
					ds5:'ds5.mp3',
					a5:'a5.mp3',
					ds6:'ds6.mp3',
					a6:'a6.mp3',
					ds7:'ds7.mp3'
				},
				filters:['rev','del']
				//69:'https://mcbeeringi.github.io/sky/audio/instr/musicbox/a4.mp3'
			},()=>log.textContent+='loaded')
			.filter('rev',{type:'reverb',fadeIn:.1,decay:3,freq:10000,wet:.5})
			.filter('del',{type:'delay',delay:.5,first:true,repeat:.7});
		btn.onclick=()=>[['c5'],['d5'],['e5'],['g5'],['c6']].map((x,i)=>main.start('test',x,main.now()+i*.05));
		[-1,0,1,2].map(x=>[72,74,76,77,79,81,83].map(y=>y+x*12)).flat()
		.forEach(x=>wrap.insertAdjacentHTML('beforeend',`<p class="key" onpointerover="main.start('test',[${x}]);">${x}</p>`));
	</script>
</body>
</html>
